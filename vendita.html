<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Marvel Card Vault (MCV) - Sell Cards">
    <title>Sell cards</title>
    <!-- Logo -->
    <link rel="icon" href="../images/logo.png" type="image/x-icon">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/card.css">
    <!-- Bootstrap CSS (only once, via CDN) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
    <!-- Navbar dinamica -->
    <div id="menu"></div>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1>Sell cards</h1>
                <p>
                    Here you can sell your duplicate cards.<br>
                    Each card is worth <b>0.2 credits</b>.<br>
                    If you propose to sell a card involved in an exchange, that exchange will be cancelled.
                </p>
            </div>
        </div>
        <div class="row p-4">
            <div class="col-12">
                <div class="button-container w-100">
                    <div id="lock" class="text-center hidden">
                        <p class="text-danger" id="error_Message"></p>
                        <i class="fas fa-lock fa-2x"></i>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div id="pack_cards" class="pack_cards"></div>
            </div>
        </div>
    </div>
    <footer id="footer"></footer>
    <!-- Import JS -->
    <script src="../scripts/theme.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../scripts/marvel.js"></script>
    <script src="../scripts/navbar.js"></script>
    <script src="../scripts/login.js"></script>
    <script type="module" src="../scripts/footer.js"></script>
    <script>
        // Ensure user has album ID, otherwise redirect
        async function toggleLock() {
            const lockDiv = document.getElementById('lock');
            const credits = await get_credits();
            if (!localStorage.getItem("album_ID")) {
                window.location.href = "/album";
            }
        }

        // Run required on load
        printCredits();
        toggleLock();
        const albumid = localStorage.getItem("album_ID");
        printDuplicatedAlbumCards(albumid);
    </script>
</body>
</html>
