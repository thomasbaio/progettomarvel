<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Marvel Card Vault (MCV) - Exchanges">
    <title>Exchanges</title>
    <!-- Logo -->
    <link rel="icon" href="../images/logo.png" type="image/x-icon">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/card.css">
    <!-- Bootstrap CSS (only once, via CDN) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
    <!-- Navbar dinamica -->
    <div id="menu"></div>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1>Exchanges</h1>
                <p>
                    On this page you can view, accept, or propose card exchanges with other users.<br>
                    Only duplicate cards can be exchanged.<br>
                    Remember: When an exchange is accepted, the involved cards will be swapped between the users' albums.
                </p>
            </div>
        </div>
        <div class="row p-4">
            <div class="col-12">
                <div id="exchange_list"></div>
            </div>
        </div>
        <div class="row p-4">
            <div class="col-12 text-center">
                <a class="btn btn-primary" href="crea_scambio.html">Propose New Exchange</a>
            </div>
        </div>
    </div>
    <footer id="footer"></footer>
    <!-- Import JS -->
    <script src="../scripts/theme.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../scripts/navbar.js"></script>
    <script src="../scripts/login.js"></script>
    <script type="module" src="../scripts/footer.js"></script>
    <script src="../scripts/marvel.js"></script>
    <script>
        // On page load, fetch and display the current exchanges
        document.addEventListener("DOMContentLoaded", function() {
            printCredits();
            loadExchanges();
        });

        function loadExchanges() {
            // This function should be implemented in marvel.js or a similar script
            // For example:
            if (typeof printExchangeList === "function") {
                printExchangeList();
            } else {
                document.getElementById("exchange_list").innerHTML = "<div class='alert alert-warning'>No exchange functionality available.</div>";
            }
        }
    </script>
</body>
</html>
